<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--<template id="assets_backend" name="custom_module assets" inherit_id="web.assets_backend">
        <xpath expr="." position="inside">
            <script type="text/javascript" src="/caosu/static/src/js/custom_sum.js"></script>
        </xpath>
    </template>-->
    
    <record id="view_rubber_salary_form" model="ir.ui.view">
        <field name="name">rubbersalary.form</field>
        <field name="model">rubber.salary</field>
        <field name="arch" type="xml">
            <form create="0">
              <sheet>
                <group>
                  <group>
                    <field name="to"/>
                    <field name="employee_id"/>
                  </group>
                  <group>
                    <field name="thang"/>
                    <field name="nam"/>
                    <field name="startdate"/>
                    <field name="enddate"/>
                    <field name="namkt"/>
                  </group>
                </group>
                <field name="currency_id" invisible="1"/>
                <field name="tientangdg" invisible="1"/>
                <field name="tienday" invisible="1"/>
                <field name="tiendong" invisible="1"/>
                <field name="tienchen" invisible="1"/>
                <field name="phucap1" invisible="1"/>
                <field name="rubber_line_ids" nolabel="1">
                  <tree create="0" delete="0" editable="bottom" default_order="ngay asc" decoration-bf="kichthich == True">
                    <field name="kichthich" optional="hide"/>
                    <field name="ngay" style="border-top-style: solid !important;border-width: 1px !important"/>
                    <field name="lo" style="border-top-style: solid !important;border-width: 1px !important"/>
                    <field name="cong" style="border-top-style: solid !important;border-width: 1px !important"/>
                    <field name="do_phancay" style="border-top-style: solid !important;border-width: 1px !important"/>
                    <field name="quykho" style="border-top-style: solid !important;border-width: 1px !important" optional="hide" sum="quykho"/>
                    <field name="quykho_drc" style="border-top-style: solid !important;border-width: 1px !important" optional="show" sum="quykho_drc"/>
                    <field name="dongia_nuoc" style="border-top-style: solid !important;border-width: 1px !important"/>
                    <field name="tiennuoc" style="border-top-style: solid !important;border-width: 1px !important" sum="tiennuoc"/>
                    <field name="dongia_tang" style="border-top-style: solid !important;border-width: 1px !important" attrs="{'column_invisible': [('parent.tientangdg', '=', 0)]}"/>
                    <field name="tientangdg" style="border-top-style: solid !important;border-width: 1px !important" sum="tientangdg" attrs="{'column_invisible': [('parent.tientangdg', '=', 0)]}"/>
                    <field name="muday" style="border-top-style: solid !important;border-width: 1px !important"  attrs="{'column_invisible': [('parent.tienday', '=', 0)]}"/>
                    <field name="dongia_day" style="border-top-style: solid !important;border-width: 1px !important" attrs="{'column_invisible': [('parent.tienday', '=', 0)]}"/>
                    <field name="tienday" style="border-top-style: solid !important;border-width: 1px !important" sum="tienday" attrs="{'column_invisible': [('parent.tienday', '=', 0)]}"/>
                    <field name="mudong" style="border-top-style: solid !important;border-width: 1px !important"  attrs="{'column_invisible': [('parent.tiendong', '=', 0)]}"/>
                    <field name="dongia_dong" style="border-top-style: solid !important;border-width: 1px !important" attrs="{'column_invisible': [('parent.tiendong', '=', 0)]}"/>
                    <field name="tiendong" style="border-top-style: solid !important;border-width: 1px !important" sum="tiendong" attrs="{'column_invisible': [('parent.tiendong', '=', 0)]}"/>
                    <field name="muchen" style="border-top-style: solid !important;border-width: 1px !important"  attrs="{'column_invisible': [('parent.tienchen', '=', 0)]}"/>
                    <field name="dongia_chen" style="border-top-style: solid !important;border-width: 1px !important" attrs="{'column_invisible': [('parent.tienchen', '=', 0)]}"/>
                    <field name="tienchen" style="border-top-style: solid !important;border-width: 1px !important" sum="tienchen" attrs="{'column_invisible': [('parent.tienchen', '=', 0)]}"/>
                    <field name="phucap" style="border-top-style: solid !important;border-width: 1px !important" attrs="{'column_invisible': [('parent.phucap1', '=', 0)]}"/>
                    <field name="tongtien" style="border-top-style: solid !important;border-width: 1px !important" sum="tongtien"/>
                  </tree>
                </field>
                <group>
                  <group string="Phụ cấp">
                    <field name="sophan"/>
                    <field name="quykho1"/>
                    <field name="ngaylam"/>
                    <field name="tongtien" string="Lương sản phẩm"/>
                    <field name="boithuoc" attrs="{'invisible': [('boithuoc','=',0)]}"/>
                    <field name="chuyencan" attrs="{'invisible': [('chuyencan','=',0)]}"/>
                    <field name="thuongsl" attrs="{'invisible': [('thuongsl','=',0)]}"/>
                    <field name="boikeo" attrs="{'invisible': [('boikeo','=',0)]}"/>
                    <field name="giacomang" attrs="{'invisible': [('giacomang','=',0)]}"/>
                    <field name="phucap" attrs="{'invisible': [('phucap','=',0)]}"/>
                    <field name="caochoang" attrs="{'invisible': [('caochoang','=',0)]}"/>
                    <field name="itmu" attrs="{'invisible': [('itmu','=',0)]}"/>
                    <field name="duongxau" attrs="{'invisible': [('duongxau','=',0)]}"/>
                    <field name="tienphan" attrs="{'invisible': [('tienphan','=',0)]}"/>
                    <field name="mmcn" attrs="{'invisible': [('mmcn','=',0)]}"/>
                    <field name="mmcu" attrs="{'invisible': [('mmcu','=',0)]}"/>
                    <field name="bkrtgn" attrs="{'invisible': [('bkrtgn','=',0)]}"/>
                    <field name="rmdm" attrs="{'invisible': [('rmdm','=',0)]}"/>
                    <field name="rct" attrs="{'invisible': [('rct','=',0)]}"/>
                    <field name="xdn" attrs="{'invisible': [('xdn','=',0)]}"/>
                    <field name="bkrtmn" attrs="{'invisible': [('bkrtmn','=',0)]}"/>
                    <field name="tienvattu" attrs="{'invisible': [('tienvattu','=',0)]}"/>
                    <field name="ttmang" attrs="{'invisible': [('ttmang','=',0)]}"/>
                    <field name="bddm" attrs="{'invisible': [('bddm','=',0)]}"/>
                    <field name="bdgv" attrs="{'invisible': [('bdgv','=',0)]}"/>
                    <field name="bdgvmu" attrs="{'invisible': [('bdgvmu','=',0)]}"/>
                    <field name="luongthangtruoc" attrs="{'invisible': [('luongthangtruoc','=',0)]}"/>
                    <field name="rutbot" string="Tiền rút phúc lợi" attrs="{'invisible': [('rutbot','=',0)]}"/>
                    <field name="dongthem" string="Đóng thêm phúc lợi" attrs="{'invisible': [('dongthem','=',0)]}"/>
                    <field name="ruttt" string="Rút tiền thưởng" attrs="{'invisible': [('ruttt','=',0)]}"/>
                    <field name="tongluong" style="font-weight:500;font-size:16px;"/>
                    <field name="tienvattu1" attrs="{'invisible': [('tienvattu1','=',0)]}"/>
                    <field name="tienung" attrs="{'invisible': [('tienung','=',0)]}"/>
                    <field name="tiendao" attrs="{'invisible': [('tiendao','=',0)]}"/>
                    <field name="tbm" attrs="{'invisible': [('tbm','=',0)]}"/>
                    <field name="chiendo" attrs="{'invisible': [('chiendo','=',0)]}"/>
                    <field name="tiengomto" attrs="{'invisible': [('tiengomto','=',0)]}"/>
                    <field name="tamvong" attrs="{'invisible': [('tamvong','=',0)]}"/>
                    <field name="truidao" attrs="{'invisible': [('truidao','=',0)]}"/>
                    <field name="bandao" attrs="{'invisible': [('bandao','=',0)]}"/>
                    <field name="banlinhtinh" attrs="{'invisible': [('banlinhtinh','=',0)]}"/>
                    <field name="tienmuon" attrs="{'invisible': [('tienmuon','=',0)]}"/>
                    <field name="tiencuoinam" attrs="{'invisible': [('tiencuoinam','=',0)]}"/>
                    <field name="tienbh" attrs="{'invisible': [('tienbh','=',0)]}"/>
                    <field name="conlai"/>
                    <field name="tongtienr" style="font-weight:500;font-size:16px;"/>
                    <field name="ghichu"/>
                  </group>
                  <group string="Thưởng cuối năm">                    
                    <field name="reward_line_ids" nolabel="1">
                      <tree default_order="thang">                        
                        <field name="thang" style="border-top-style: solid !important;border-width: 1px !important" /> <!--sum="Tổng cộng"-->
                        <field name="nam" style="border-top-style: solid !important;border-width: 1px !important" optional="hide"/>
                        <field name="namkt" style="border-top-style: solid !important;border-width: 1px !important" optional="hide"/> 
                        <field name="phucloi" style="border-top-style: solid !important;border-width: 1px !important" sum="phucloi" optional="hide"/>
                        <field name="rutbot" style="border-top-style: solid !important;border-width: 1px !important" optional="hide"/>
                        <field name="dongthem" style="border-top-style: solid !important;border-width: 1px !important" optional="hide"/>                                                
                        <field name="tongtien" style="border-top-style: solid !important;border-width: 1px !important" sum="tongtien" optional="hide"/>
                        <field name="tongdiem" string="Điểm" style="border-top-style: solid !important;border-width: 1px !important" digits ="[42,0]" sum="tongdiem" optional="show"/>
                        <field name="qk_drc_thang" style="border-top-style: solid !important;border-width: 1px !important" digits ="[42,0]" sum="qk_drc_thang" optional="show"/>
                        <field name="quykho_drc_target" style="border-top-style: solid !important;border-width: 1px !important" digits ="[42,0]" sum="quykho_drc_target" optional="show"/>
                        <field name="qk_thang_lk" style="border-top-style: solid !important;border-width: 1px !important" digits ="[42,0]" optional="hide"/>
                        <field name="qk_target_lk" style="border-top-style: solid !important;border-width: 1px !important" digits ="[42,0]" optional="hide"/>
                        <field name="tyle_kehoach" string = "% Đạt" style="border-top-style: solid !important;border-width: 1px !important" digits ="[42,0]" widget ="percentage" optional="show"/>
                        <field name="phucloitl" style="border-top-style: solid !important;border-width: 1px !important" optional="show"/>
                        <field name="ttth" style="border-top-style: solid !important;border-width: 1px !important" optional="hide"/>
                        <field name="ruttt" style="border-top-style: solid !important;border-width: 1px !important" optional="hide"/>
                        <field name="tongtientl" style="border-top-style: solid !important;border-width: 1px !important" sum="tongtientl" optional="hide"/>
                        
                      </tree>
                    </field>         
                  </group>   
                </group>
              </sheet>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="view_rubber_salary_tree">
        <field name="name">rubbersalary.tree</field>
        <field name="model">rubber.salary</field>
        <field name="arch" type="xml">
            <tree string="Rubber Salary Tree View" multi_edit="1" default_order="sttcn">
              <field name="to"/>
              <field name="sttcn"/>
              <field name="employee_id"/>
              <field name="thang"/>
              <field name="nam"/>
            </tree>
        </field>
    </record>

    <record id="action_phieuluong" model="ir.actions.act_window">
        <field name="name">Phiếu Lương</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">rubber.salary</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p>
              Phiếu Lương.
            </p>
        </field>
    </record>

</odoo>
